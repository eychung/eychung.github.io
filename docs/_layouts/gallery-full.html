---
layout: page
---

<head>
    <title>{{ page.title }}</title>
    <link href="/assets/css/photoswipe.css" rel="stylesheet">
    <script src="/assets/js/gallery-full.js" type="module"></script>
</head>

<!-- Filter Controls -->
<div class="action-bar"></div>

<div id="filter-display-container"></div>

<article>
    <h1>{{ page.subtitle }}</h1>
    <div class="pswp-gallery pswp-gallery--single-column" id="gallery">
        <div class="flex-container">
            {% assign reversed_files = site.data.images | reverse %}

            <!-- This matches .flex-item-wrapper's height -->
            {% assign max_row_height = 300 %}

            {% for file in reversed_files %}
            {% assign original_width = file.width %}
            {% assign original_height = file.height %}

            <!-- Determine scaling factor based on the longest dimension -->
            {% if original_width > original_height %}
            {% assign longest_dimension = original_width %}
            {% else %}
            {% assign longest_dimension = original_height %}
            {% endif %}

            {% assign scale_factor = max_row_height | times: 1.0 | divided_by: longest_dimension %}
            {% assign new_width = original_width | times: scale_factor %}

            <!-- Handle eager vs lazy loading -->
            {% if forloop.index <= 10 %} <a class="flex-item-wrapper" data-pswp-height="{{ file.height }}"
                data-pswp-width="{{ file.width }}" data-tags="{{ file.tags | join: ' ' }}" href="{{ file.path }}"
                target="_blank">
                <img class="flex-item" height="{{ max_row_height }}" src="{% thumbnail_img file.path 600 %}"
                    width="{{ new_width }}">
                </a>
                {% else %}
                <a class="flex-item-wrapper" data-pswp-height="{{ file.height }}" data-pswp-width="{{ file.width }}"
                    data-tags="{{ file.tags | join: ' ' }}" href="{{ file.path }}" target="_blank">
                    <img class="flex-item" height="{{ max_row_height }}" loading="lazy"
                        src="{% thumbnail_img file.path 600 %}" width="{{ new_width }}">
                </a>
                {% endif %}
                {% endfor %}
        </div>
    </div>
</article>